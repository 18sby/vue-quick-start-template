{"version":3,"sources":["webpack:///src/components/comment/WriteComment.vue","webpack:///./src/components/comment/WriteComment.vue?ec76","webpack:///./src/components/comment/WriteComment.vue","webpack:///src/components/comment/SectionLink.vue","webpack:///./src/components/comment/SectionLink.vue?23b4","webpack:///./src/components/comment/SectionLink.vue","webpack:///src/components/message/ReplyList.vue","webpack:///./src/components/comment/ReplyList.vue?39cb","webpack:///./src/components/comment/ReplyList.vue","webpack:///src/components/comment/CommentList.vue","webpack:///./src/components/comment/CommentList.vue?f4f6","webpack:///./src/components/comment/CommentList.vue","webpack:///src/pages/detailMessage/index.vue","webpack:///./src/pages/detailMessage/index.vue?3024","webpack:///./src/pages/detailMessage/index.vue"],"names":["vue_esm","use","field","toast","WriteComment","props","messageUserId","type","String","default","srcCommentId","userNick","data","message","methods","[object Object]","this","Object","saveCommentResponse","comment","msgId","$route","query","messageId","msgUserId","content","$emit","$router","push","name","encodeURIComponent","comment_WriteComment","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","rows","clearable","placeholder","model","value","callback","$$v","expression","_v","src","__webpack_require__","alt","on","click","toSendCommentPage","sendComment","staticRenderFns","components_comment_WriteComment","normalizeComponent","ssrContext","SectionLink","backColor","comment_SectionLink","style","background-color","background-image","_m","components_comment_SectionLink","SectionLink_normalizeComponent","ReplyList","isShowReplyLink","Boolean","hideLimit","Number","isShowMoreLink","commentList","Array","commentCount","components","comment_ReplyList","length","toMessageDetailPage","_l","commentIndex","key","_id","_s","nickName","staticStyle","margin-top","_e","components_comment_ReplyList","ReplyList_normalizeComponent","CommentList","isShowCommentLink","isShowReply","messageList","praise","yes","no","messageIndex","switchPraiseResponse","commentId","isPraise","comment_CommentList","class","avatar","msgTime","$event","switchPraise","praiseUv","comments","components_comment_CommentList","CommentList_normalizeComponent","overlay","list","detailMessage","MessageList","WriteMessageBox","isShowWriteBox","clientHeight","pageSize","pageNum","loading","finished","document","title","body","getMessageDetail","getCommentsByMessageId","messageDetailResponse","leaveMessage","commentsResponse","newComment","unshift","e","clientY","pages_detailMessage","finished-text","load","$set","switchPraiseComment","show","clickMessageOverlay","userId","detailMessage_Component","detailMessage_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/13.4c08d927f3cc6588f714.js","sourcesContent":["<template>\n  <div class=\"write-message-container f-row-between\">\n    \n    <div class=\"editor\">\n      <van-field\n        ref=\"textInput\"\n        v-model=\"message\"\n        rows=\"3\"\n        clearable\n        type=\"textarea\"\n        placeholder=\"写留言和大家互动吧\"\n      />\n    </div>\n    <div class=\"operator f-col-between-r\">\n      <img @click=\"toSendCommentPage\" src=\"@/assets/images/write_message_full.png\" alt=\"\">\n      <p @click=\"sendComment\">\n        发送\n      </p>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue';\nimport { Field, Toast } from 'vant';\nimport { apiSaveComment } from '@/service/api/comment';\n\nVue.use(Field).use(Toast);\n\nexport default {\n  props: {\n    messageUserId: {\n      type: String,\n      default: null\n    },\n    srcCommentId: {\n      type: String,\n      default: ''\n    },\n    userNick: {\n      type: String,\n      default: null\n    }\n  },\n\n  data() {\n    return {\n      message: ''\n    }\n  },\n\n  methods: {\n    // todo 发送留言并告知父组件\n    async sendComment() {\n      if (this.message === '') return Toast('内容为空');\n      const saveCommentResponse = await apiSaveComment({\n        msgId: this.$route.query.messageId,\n        msgUserId: this.messageUserId,\n        content: this.message,\n        srcCommentId: this.srcCommentId\n      });\n      if (!saveCommentResponse && saveCommentResponse.type === 'fail') return Toast('服务器错误，请联系客服');\n      \n      Toast('发送成功');\n      this.$emit('sendComment', saveCommentResponse.data);\n    },\n\n    // todo 跳转至发送留言的页面\n    toSendCommentPage() {\n      this.$router.push({\n        name: 'send-comment',\n        query: {\n          userNick: encodeURIComponent( this.userNick ),\n          messageId: this.$route.query.messageId,\n          messageUserId: this.messageUserId,\n          content: encodeURIComponent( this.message ),\n          srcCommentId: this.srcCommentId\n        }\n      });\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.write-message-container {\n  width: 100%;\n  height: 130px;\n  padding: 15px;\n  box-sizing: border-box;\n  background-color: #fff;\n\n  .editor {\n    width: 300px;\n    background: rgba(247,247,247,1);\n    border-radius: 5px;\n\n    .van-cell {\n      background: rgba(247,247,247,1);\n    }\n  }\n  .operator {\n    width: calc(100% - 310px);\n    padding: 2px 0;\n\n    img {\n      width: 15px;\n      height: 15px;\n    }\n    p {\n      font-size: 15px;\n      color: rgba(244,186,65,1);\n    }\n  }\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/comment/WriteComment.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"write-message-container f-row-between\"},[_c('div',{staticClass:\"editor\"},[_c('van-field',{ref:\"textInput\",attrs:{\"rows\":\"3\",\"clearable\":\"\",\"type\":\"textarea\",\"placeholder\":\"写留言和大家互动吧\"},model:{value:(_vm.message),callback:function ($$v) {_vm.message=$$v},expression:\"message\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"operator f-col-between-r\"},[_c('img',{attrs:{\"src\":require(\"@/assets/images/write_message_full.png\"),\"alt\":\"\"},on:{\"click\":_vm.toSendCommentPage}}),_vm._v(\" \"),_c('p',{on:{\"click\":_vm.sendComment}},[_vm._v(\"\\n      发送\\n    \")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0f0218dc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comment/WriteComment.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0f0218dc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./WriteComment.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./WriteComment.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./WriteComment.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0f0218dc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./WriteComment.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0f0218dc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/comment/WriteComment.vue\n// module id = null\n// module chunks = ","<template>\n  <div\n    :style=\"{ 'background-color': backColor }\"\n    class=\"section-link-container f-row-between\"\n  >\n    \n    <div\n      :style=\"{ 'background-image': `url( https://qds-files.oss-cn-qingdao.aliyuncs.com/image/1560909212_lEd30eNK.png )` }\"\n      class=\"cover\"\n    />\n    <div class=\"content f-col-between\">\n      <p class=\"title one-ellipsis\">\n        03. 与孩子有效沟通的四个原则\n      </p>\n      <p class=\"tag\">\n        亲子沟通\n      </p>\n    </div>\n\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    backColor: {\n      type: String,\n      default: 'rgba(249,249,249,1)'\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.section-link-container {\n  width: 100%;\n  height: 60px;\n  border-radius: 4px;\n\n  .cover {\n    width: 45px;\n    height: 60px;\n    border-radius: 4px 0 0 4px;\n    background-position: center center;\n    background-size: cover;\n    background-repeat: no-repeat;\n  }\n  .content {\n    width: calc(100% - 45px);\n    box-sizing: border-box;\n    padding: 10px 15px;\n\n    .title {\n      width: 98%;\n      font-size: 14px;\n      font-weight: 600;\n      color: rgba(102,102,102,1);\n    }\n    .tag {\n      font-size: 13px;\n      color: rgba(153,153,153,1);\n    }\n  }\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/comment/SectionLink.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"section-link-container f-row-between\",style:({ 'background-color': _vm.backColor })},[_c('div',{staticClass:\"cover\",style:({ 'background-image': \"url( https://qds-files.oss-cn-qingdao.aliyuncs.com/image/1560909212_lEd30eNK.png )\" })}),_vm._v(\" \"),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content f-col-between\"},[_c('p',{staticClass:\"title one-ellipsis\"},[_vm._v(\"\\n      03. 与孩子有效沟通的四个原则\\n    \")]),_vm._v(\" \"),_c('p',{staticClass:\"tag\"},[_vm._v(\"\\n      亲子沟通\\n    \")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-75b203b3\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comment/SectionLink.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-75b203b3\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SectionLink.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SectionLink.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SectionLink.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-75b203b3\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SectionLink.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-75b203b3\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/comment/SectionLink.vue\n// module id = null\n// module chunks = ","<template>\n  <div\n    @click=\"toMessageDetailPage\"\n    v-if=\"commentList && commentList.length > 0\"\n    class=\"reply-list-container\"\n  >\n    \n    <div\n      v-for=\"(comment, commentIndex) in commentList\"\n      :key=\"comment._id\"\n    >\n      <div\n        v-if=\"commentIndex < hideLimit\"\n        class=\"reply\"\n      >\n        <p class=\"content\">\n          <span class=\"nickname\">\n            {{ comment.nickName }}\n          </span>\n          {{ `：${comment.content}` }}\n        </p>\n        <SectionLink backColor=\"#fff\" v-if=\"isShowReplyLink\" style=\"margin-top: 10px\" />\n      </div>\n    </div>\n\n    <p\n      v-if=\"isShowMoreLink && commentList.length > hideLimit\"\n      class=\"more-reply\"\n    >\n      共{{ commentCount }}条回复 >\n    </p>\n\n  </div>\n</template>\n\n<script>\nimport SectionLink from './SectionLink.vue';\n\nexport default {\n  props: {\n    isShowReplyLink: {\n      type: Boolean,\n      default: false\n    },\n    hideLimit: {\n      type: Number,\n      default: 2\n    },\n    isShowMoreLink: {\n      type: Boolean,\n      default: true\n    },\n    commentList: {\n      type: Array,\n      default: []\n    },\n    messageId: {\n      type: String,\n      default: null\n    },\n    commentCount: {\n      type: Number,\n      default: 3\n    }\n  },\n\n  components: {\n    SectionLink\n  },\n\n  methods: {\n    // todo 跳转到留言详情页面\n    toMessageDetailPage() {\n      this.$router.push({\n        name: 'detail-message',\n        query: {\n          messageId: this.messageId\n        }\n      });\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.reply-list-container {\n  width: 100%;\n  padding: 10px 7.5px 10px 10px;\n  box-sizing: border-box;\n  background: rgba(247,247,247,1);\n  border-radius: 1px;\n\n  .reply {\n    .content {\n      font-size: 13px;\n      color: #666666;\n      line-height: 1.5;\n      \n      .nickname {\n        color:rgba(31,110,208,1);\n      }\n    }\n  }\n\n  .more-reply {\n    color:rgba(31,110,208,1);\n    font-size: 13px;\n    margin-top: 8px;\n  }\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/message/ReplyList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.commentList && _vm.commentList.length > 0)?_c('div',{staticClass:\"reply-list-container\",on:{\"click\":_vm.toMessageDetailPage}},[_vm._l((_vm.commentList),function(comment,commentIndex){return _c('div',{key:comment._id},[(commentIndex < _vm.hideLimit)?_c('div',{staticClass:\"reply\"},[_c('p',{staticClass:\"content\"},[_c('span',{staticClass:\"nickname\"},[_vm._v(\"\\n          \"+_vm._s(comment.nickName)+\"\\n        \")]),_vm._v(\"\\n        \"+_vm._s((\"：\" + (comment.content)))+\"\\n      \")]),_vm._v(\" \"),(_vm.isShowReplyLink)?_c('SectionLink',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"backColor\":\"#fff\"}}):_vm._e()],1):_vm._e()])}),_vm._v(\" \"),(_vm.isShowMoreLink && _vm.commentList.length > _vm.hideLimit)?_c('p',{staticClass:\"more-reply\"},[_vm._v(\"\\n    共\"+_vm._s(_vm.commentCount)+\"条回复 >\\n  \")]):_vm._e()],2):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5a322747\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comment/ReplyList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5a322747\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ReplyList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ReplyList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ReplyList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5a322747\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ReplyList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5a322747\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/comment/ReplyList.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"message-list-container\">\n\n    <div\n      v-for=\"(message, messageIndex) in messageList\"\n      :key=\"message._id\"\n      :class=\"['message-region', messageIndex > 0 ? 'm-top-25' : '']\"\n    >\n      <div class=\"main-area flx\">\n        <div class=\"avatar-area\">\n          <img :src=\"message.avatar\" alt=\"\">\n        </div>\n        <div class=\"content-area\">\n          <div class=\"right-content f-row-between\">\n            <div class=\"info f-col-between\">\n              <div class=\"one-row f-i-c\">\n                <p class=\"nick\">{{ message.nickName }}</p>\n                <!-- // ? 待开发 -->\n                <!-- <span class=\"identity f-c\">\n                  作者\n                </span> -->\n              </div>\n              <div class=\"two-row f-i-c\">\n                <p>\n                  {{ message.msgTime }}\n                </p>\n                <!-- // ? 待开发 -->\n                <!-- <span class=\"dot\">\n                  ·\n                </span>\n                <p>\n                  已打卡5天\n                </p> -->\n              </div>\n            </div>\n            <div\n              @click=\"switchPraise(message, messageIndex)\"\n              class=\"like f-row-end-c\"\n            >\n              <span>\n                {{ message.praiseUv }}\n              </span>\n              <img\n                :src=\"message.isPraise ? praise.yes : praise.no\"\n                alt=\"\"\n              >\n            </div>\n          </div>\n          <div\n            class=\"comment\"\n          >\n            <!-- // ? 待开发 -->\n            <!-- <span>\n              回复 <span class=\"color-blue\">百尺惊尘</span>：\n            </span> -->\n            {{ message.content }}\n          </div>\n          \n          <ReplyList\n            v-if=\"isShowReply\"\n            :hideLimit=\"hideLimit\"\n            :isShowMoreLink=\"isShowMoreLink\"\n            :isShowReplyLink=\"isShowReplyLink\"\n            :commentList=\"message.comments\"\n            :messageId=\"message._id\"\n            :commentCount=\"message.commentCount\"\n            style=\"margin-top: 15px\"\n          />\n\n          <SectionLink v-if=\"isShowCommentLink\" style=\"margin-top: 15px\" />\n          \n        </div>\n      </div>\n      <div class=\"split-1\" />\n    </div>\n    \n  </div>\n</template>\n\n<script>\nimport SectionLink from './SectionLink.vue';\nimport ReplyList from './ReplyList.vue';\nimport { apiCommentPraise } from '@/service/api/comment';\nimport Vue from 'vue';\nimport { Toast } from 'vant';\n\nVue.use(Toast);\n\nexport default {\n  props: {\n    isShowCommentLink: { // 是否显示留言所在小节链接\n      type: Boolean,\n      default: true\n    },\n    isShowReply: { // 是否显示回复\n      type: Boolean,\n      default: true\n    },\n    hideLimit: { // 回复模块最多显示几条\n      type: Number,\n      default: 2\n    },\n    messageList: {\n      type: Array,\n      default: []\n    },\n    isShowReplyLink: {\n      type: Boolean,\n      default: false\n    },\n    isShowMoreLink: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  components: {\n    SectionLink,\n    ReplyList\n  },\n  \n  data() {\n    return {\n      praise: {\n        yes: require('../../assets/images/comment_like.png'),\n        no: require('../../assets/images/comment_no_like.png'),\n      }\n    }\n  },\n\n  methods: {\n    // todo 切换点赞状态，发给父组件\n    async switchPraise(message, messageIndex) {\n      const switchPraiseResponse = await apiCommentPraise({\n        commentId: message._id,\n        isPraise: !message.isPraise\n      });\n      if (!switchPraiseResponse || switchPraiseResponse.type === 'fail') return Toast('服务器错误，请联系客服');\n\n      this.$emit('switchPraise', messageIndex);\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.message-list-container {\n  width: 100%;\n\n  .message-region {\n    width: 100%;\n    \n    .main-area {\n      width: 100%;\n      margin-bottom: 25px;\n\n      .avatar-area {\n        width: 33px;\n        \n        img {\n          width: 33px;\n          height: 33px;\n          border-radius: 50%;\n        }\n      }\n      .content-area {\n        width: calc(100% - 15px - 33px);\n        margin-left: 15px;\n\n        .right-content {\n          \n          .info {\n            width: 65%;\n            .one-row {\n              .nick {\n                font-size: 15px;\n                font-weight: 600;\n                color: rgba(51,51,51,1);\n              }\n              .identity {\n                height: 17px;\n                padding: 1px 3px;\n                box-sizing: border-box;\n                background: rgba(255,252,246,1);\n                border: 1px solid rgba(244,186,65,1);\n                border-radius: 2px;\n                margin-left: 5px;\n                font-size: 11px;\n                color: rgba(244,186,65,1);\n              }\n            }\n            .two-row {\n              font-size: 12px;\n              color: rgba(153,153,153,1);\n\n              .dot {\n                margin: 0 2px;\n              }\n            }\n          }\n\n          .like {\n            width: 30%;\n\n            span {\n              font-size: 12px;\n              color: rgba(153,153,153,1);\n            }\n            img {\n              width: 15px;\n              height: 15px;\n              margin-left: 5px;\n            }\n          }\n        }\n        .comment {\n          padding: 0 1px;\n          margin-top: 13px;\n          width: 100%;\n          box-sizing: border-box;\n          font-size: 14px;\n          color: rgba(51,51,51,1);\n          line-height: 1.5;\n\n          .color-blue {\n            color: #1F6ED0;\n          }\n        }\n      }\n    }\n    .split-1 {\n      width: 100%;\n      height: 1px;\n      background: rgba(238,238,238,1);\n    }\n  }\n\n  .m-top-25 {\n    margin-top: 25px;\n  }\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/comment/CommentList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"message-list-container\"},_vm._l((_vm.messageList),function(message,messageIndex){return _c('div',{key:message._id,class:['message-region', messageIndex > 0 ? 'm-top-25' : '']},[_c('div',{staticClass:\"main-area flx\"},[_c('div',{staticClass:\"avatar-area\"},[_c('img',{attrs:{\"src\":message.avatar,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"content-area\"},[_c('div',{staticClass:\"right-content f-row-between\"},[_c('div',{staticClass:\"info f-col-between\"},[_c('div',{staticClass:\"one-row f-i-c\"},[_c('p',{staticClass:\"nick\"},[_vm._v(_vm._s(message.nickName))])]),_vm._v(\" \"),_c('div',{staticClass:\"two-row f-i-c\"},[_c('p',[_vm._v(\"\\n                \"+_vm._s(message.msgTime)+\"\\n              \")])])]),_vm._v(\" \"),_c('div',{staticClass:\"like f-row-end-c\",on:{\"click\":function($event){return _vm.switchPraise(message, messageIndex)}}},[_c('span',[_vm._v(\"\\n              \"+_vm._s(message.praiseUv)+\"\\n            \")]),_vm._v(\" \"),_c('img',{attrs:{\"src\":message.isPraise ? _vm.praise.yes : _vm.praise.no,\"alt\":\"\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"comment\"},[_vm._v(\"\\n          \"+_vm._s(message.content)+\"\\n        \")]),_vm._v(\" \"),(_vm.isShowReply)?_c('ReplyList',{staticStyle:{\"margin-top\":\"15px\"},attrs:{\"hideLimit\":_vm.hideLimit,\"isShowMoreLink\":_vm.isShowMoreLink,\"isShowReplyLink\":_vm.isShowReplyLink,\"commentList\":message.comments,\"messageId\":message._id,\"commentCount\":message.commentCount}}):_vm._e(),_vm._v(\" \"),(_vm.isShowCommentLink)?_c('SectionLink',{staticStyle:{\"margin-top\":\"15px\"}}):_vm._e()],1)]),_vm._v(\" \"),_c('div',{staticClass:\"split-1\"})])}),0)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6f93c8a2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comment/CommentList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6f93c8a2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CommentList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CommentList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CommentList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6f93c8a2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CommentList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6f93c8a2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/comment/CommentList.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"detail-message-container\">\n\n    <!-- // ! 留言 -->\n    <div class=\"message-box\">\n      <MessageList\n        :messageList=\"messageList\"\n        :isShowCommentLink=\"false\"\n        @switchPraise=\"switchPraise\"\n      />\n    </div>\n\n    <div class=\"block-div-1\" />\n\n    <!-- // ! 评论部分 -->\n    <div class=\"message-box\">\n      <van-list\n        v-model=\"comment.loading\"\n        :finished=\"comment.finished\"\n        finished-text=\"没有更多了\"\n        @load=\"getCommentsByMessageId\"\n      >\n        <CommentList\n          :messageList=\"comment.list\"\n          :isShowCommentLink=\"false\"\n          :isShowReply=\"false\"\n          @switchPraise=\"switchPraiseComment\"\n        />\n      </van-list>\n    </div>\n\n    <WriteMessageBox\n      @click=\"isShowWriteBox = true\"\n      class=\"write-message-box\"\n    />\n\n    <van-overlay\n      @click=\"clickMessageOverlay\"\n      :show=\"isShowWriteBox\"\n    >\n      <WriteComment\n        v-if=\"isShowWriteBox\"\n        :messageUserId=\"messageList[0].userId\"\n        srcCommentId=\"\"\n        @sendComment=\"sendComment\"\n        :userNick=\"messageList[0].nickName\"\n        class=\"write-message\"\n      />\n    </van-overlay>\n\n    <div class=\"bottom-block\" />\n\n  </div>\n</template>\n\n<script>\nimport MessageList from '@/components/message/MessageList.vue';\nimport WriteMessageBox from '@/components/message/WriteMessageBox.vue';\nimport WriteComment from '@/components/comment/WriteComment.vue';\nimport CommentList from '@/components/comment/CommentList.vue';\nimport { apiLeaveMessageDetail } from '@/service/api/leaveMessage';\nimport { apiCommentListByMsgId } from '@/service/api/comment';\nimport Vue from 'vue';\nimport { Overlay, Toast, List } from 'vant';\n\nVue.use(Overlay).use(Toast).use(List);\n\nexport default {\n  components: {\n    MessageList,\n    WriteMessageBox,\n    CommentList,\n    WriteComment\n  },\n\n  data() {\n    return {\n      isShowWriteBox: false,\n      clientHeight: 0,\n      messageList: [],\n\n      comment: {\n        list: [],\n        pageSize: 20,\n        pageNum: 0,\n        loading: false,\n        finished: true\n      }\n    }\n  },\n\n  created() {\n    document.title = '精彩留言';\n  },\n\n  mounted() {\n    this.clientHeight = document.body.clientHeight;\n    this.getMessageDetail( this.$route.query.messageId );\n    this.getCommentsByMessageId();\n  },\n\n  methods: {\n    // todo 获取留言详情\n    async getMessageDetail( messageId ) {\n      const messageDetailResponse = await apiLeaveMessageDetail( messageId );\n      if (!messageDetailResponse || messageDetailResponse.type === 'fail') return Toast('服务器错误，请联系客服');\n      this.messageList.push( messageDetailResponse.data );\n    },\n\n    // todo 获取留言的评论列表\n    async getCommentsByMessageId() {\n      const commentsResponse = await apiCommentListByMsgId( this.$route.query.messageId, this.comment.pageNum, this.comment.pageSize );\n      if (!commentsResponse || commentsResponse.type === 'fail') return Toast('服务器错误，请联系客服');\n      this.comment.list = [ ...this.comment.list, ...commentsResponse.data ];\n      if (commentsResponse.data.length < this.comment.pageSize) {\n        this.comment.finished = true;\n      } else {\n        this.comment.pageNum += 1;\n        this.comment.finished = false;\n      }\n      this.comment.loading = false;\n    },\n\n    // todo 点赞留言状态切换的伪处理(不请求接口)\n    switchPraise(messageIndex) {\n      this.messageList[ messageIndex ].isPraise = !this.messageList[ messageIndex ].isPraise;\n      this.messageList[ messageIndex ].praiseUv = this.messageList[ messageIndex ].isPraise ? this.messageList[ messageIndex ].praiseUv + 1 : this.messageList[ messageIndex ].praiseUv - 1;\n    },\n\n    // todo 点赞评论状态切换的伪处理(不请求接口)\n    switchPraiseComment(messageIndex) {\n      this.comment.list[ messageIndex ].isPraise = !this.comment.list[ messageIndex ].isPraise;\n      this.comment.list[ messageIndex ].praiseUv = this.comment.list[ messageIndex ].isPraise ? this.comment.list[ messageIndex ].praiseUv + 1 : this.comment.list[ messageIndex ].praiseUv - 1;\n    },\n\n    // todo 发表评论伪处理(不请求接口)\n    sendComment(newComment) {\n      this.comment.list.unshift( newComment );\n      this.isShowWriteBox = false;\n    },\n\n    clickMessageOverlay(e) {\n      if (e.clientY > this.clientHeight - 130) return ; // 点击到输入框就不隐藏\n      this.isShowWriteBox = false;\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.detail-message-container {\n  width: 100%;\n  background-color: #fff;\n\n  .message-box {\n    width: 100%;\n    box-sizing: border-box;\n    padding: 20px 20px 0;\n  }\n\n  .block-div-1 {\n    width: 100%;\n    height: 10px;\n    background: rgba(246,246,246,1);\n  }\n\n  .write-message-box {\n    width: 100%;\n    position: fixed;\n    bottom: 0;\n    background-color: #fff;\n  }\n  \n  .write-message {\n    position: absolute;\n    bottom: 0;\n  }\n\n  .bottom-block {\n    width: 100%;\n    height: 55px;\n    background: rgba(246,246,246,1);\n  }\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/detailMessage/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail-message-container\"},[_c('div',{staticClass:\"message-box\"},[_c('MessageList',{attrs:{\"messageList\":_vm.messageList,\"isShowCommentLink\":false},on:{\"switchPraise\":_vm.switchPraise}})],1),_vm._v(\" \"),_c('div',{staticClass:\"block-div-1\"}),_vm._v(\" \"),_c('div',{staticClass:\"message-box\"},[_c('van-list',{attrs:{\"finished\":_vm.comment.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.getCommentsByMessageId},model:{value:(_vm.comment.loading),callback:function ($$v) {_vm.$set(_vm.comment, \"loading\", $$v)},expression:\"comment.loading\"}},[_c('CommentList',{attrs:{\"messageList\":_vm.comment.list,\"isShowCommentLink\":false,\"isShowReply\":false},on:{\"switchPraise\":_vm.switchPraiseComment}})],1)],1),_vm._v(\" \"),_c('WriteMessageBox',{staticClass:\"write-message-box\",on:{\"click\":function($event){_vm.isShowWriteBox = true}}}),_vm._v(\" \"),_c('van-overlay',{attrs:{\"show\":_vm.isShowWriteBox},on:{\"click\":_vm.clickMessageOverlay}},[(_vm.isShowWriteBox)?_c('WriteComment',{staticClass:\"write-message\",attrs:{\"messageUserId\":_vm.messageList[0].userId,\"srcCommentId\":\"\",\"userNick\":_vm.messageList[0].nickName},on:{\"sendComment\":_vm.sendComment}}):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"bottom-block\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-63caebd2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/detailMessage/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-63caebd2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-63caebd2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-63caebd2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/detailMessage/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}