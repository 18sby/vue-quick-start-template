{"version":3,"sources":["webpack:///./src/assets/images/bind_phone_code.png","webpack:///src/pages/bindPhone/index.vue","webpack:///./src/service/api/shortMessage.js","webpack:///./src/pages/bindPhone/index.vue?4922","webpack:///./src/pages/bindPhone/index.vue","webpack:///./node_modules/vant/es/count-down/style/index.js","webpack:///./src/assets/images/bind_phone_input.png","webpack:///./node_modules/vant/es/count-down/utils.js","webpack:///./node_modules/vant/es/count-down/index.js"],"names":["module","exports","use","field","es_button","count_down","toast","bindPhone","data","phone","verifyCode","resendSeconds","sendingInterval","isHoldCode","phoneRegExp","[object Object]","document","title","methods","this","test","Object","message","icon","verifyCodeResponse","mobileNo","request","method","url","then","result","code","Promise","resolve","type","getErrorMsg","catch","err","console","log","verifyResponse","apiCheckCode","lowdb","unset","write","$router","back","pages_bindPhone","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","src","__webpack_require__","alt","clearable","placeholder","model","value","callback","$$v","expression","time","format","on","finish","countDownFinish","round","text","color","click","getVerifyCode","$event","nextStep","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0__style_base_css__","__WEBPACK_IMPORTED_MODULE_1__index_css__","n","SECOND","MINUTE","HOUR","DAY","_createNamespace","utils","createComponent","bem","props","millisecond","Boolean","Number","String","default","autoStart","remain","computed","timeData","days","Math","floor","hours","minutes","seconds","milliseconds","formattedTime","indexOf","replace","string","ms","slice","charAt","parseFormat","watch","immediate","handler","activated","keepAlivePaused","counting","tick","deactivated","pause","beforeDestroy","start","endTime","Date","now","raf","rafId","reset","microTick","macroTick","_this","setRemain","getRemain","_this2","time1","time2","max","$emit","h","arguments","class","slots"],"mappings":"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","file":"static/js/12.6f4da665259e51daa726.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUQzRUEwQzAyOUVBMTFFQTgxNDlCMUI3NTJCRTJDNDciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUQzRUEwQzEyOUVBMTFFQTgxNDlCMUI3NTJCRTJDNDciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBRDNFQTBCRTI5RUExMUVBODE0OUIxQjc1MkJFMkM0NyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBRDNFQTBCRjI5RUExMUVBODE0OUIxQjc1MkJFMkM0NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhFxUtsAAARQSURBVHja7JpXaFRBFIZ3LbFgQQVFJagYS2LEGEXBB7GLFQQxdrHhg6AoNkSwgGjsDfFBkdgjoqixYnsQezTog4VYUBRrfBGNNX5Hz+Kwups79+7NbsALP+fO3Ttz/jMz98w5MxssKSkJlOerkl8N37xZkIVYAeqADZmZGQv80BP0YwQgn42YE/b4BJiCIc8S1gCI90GsB63Bd70vAuNBc31tEsjBkG8JYwDEhyFmgs766DwYZ/Y276xBzNDic7CW31fHzQAIVUMM1d7tbvw0FWKbI9TphdgKmuijQjEE7KNOkS8GoDQFURXUBQ1BA5AORoNqRo8eAusg8rCU9pJ0JAaDLsZPe8AN8BK8Bm/AZ2mbNj9YG4CiTogdoFUUPpdBLtiIkh8up95k0CvKazIyC2l/k60BYn2SFqVXboP3QHr4LrhIo09i9PE3QnQD7UAzUF2nWbrx2kD0HbNZB0LkZX6O8HMxov0XOoX2hBkmjiH0ofcFfxlQwUH7s+O1ymKYeK6QJ/un2y3NAJlfH+McLTxS+d2tAUmJHO44mULBOBsQ9GpAQl//DfhvwB+fn6lhRvkzAOJHEPlgd8JkZBbkTyH6aPFKuRoByB80yM9zkx9UiCP5A4ghWpwP+eyESuotps0cyK8sJRrwZwQgkgzqWtbZFTZtVsbFjWrC81TSQu6rO6wj4fAoo+ezvY6mEwMiZVoVVcq+z3XNkaORP4nor8VZFj3vaQoFI70DAUknh2uYmwauQbJeBPI7NSGRa5GltwlGC+qcGFAjSsKRa2ylpOtIJIWRz9MNgFDPL7acJbVUfnU7hRqWkjXl60gENJ+9ZpA/jhigxZm2fp76VRBNtVjs1o0mO0j9clFWrDltO+6PavLfL5SW8s5aF99oW1DT2FiwGoF8lS0d5q+Hje2RgWC63s/gt1UunUyKcX/B1oDQDsBQiyRcPuws45GQX+fBS3ZVeYN27tsasE1lGlOih4UR+xGyDTPdC3l01kZM0GLEbyfq1iKN5CDGynyGTEoZhxsh3S/Q3djtOjBfZXMaHFGG5JOV/C/X63ohw3LZtM3R4nZ1a2VxnVD5AA57vYYSoR4Q8lvLoPcnItpocarnWIgeeIsYo8XRKBjrI/l0o5P2ovtMTKJRGtplfA85KJrkA/mOiEtazEPnSEeBks0JTVgi0hMl52JEXiLaV6AyKKLden7lA7LCFuj9WRQPigF5OQe4quQlHOnpW0JDz0hE2N7wTEcgsMUD+SmIe6AFuANS0VFg04aXQ76dRpgsbm8aygsd1pWQewmYq4/kxCeD+l9seXg6ZoXIPMQy45GU5VT+U5Q6siBmG1Gu7E6MoU6xGw6ez4khJNGqHMD11kfvAr/P08QF3gLSq000I+sQ+HPgLfn0ZIif9qI/Zif12rNLNamJdsnoLBe4mTK+GaBGVNQIUhKZVFA/8PuERxbDx/qtbNfFMSZXsLz/3eanAAMAdOqgrQpNDcQAAAAASUVORK5CYII=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/bind_phone_code.png\n// module id = 0QB3\n// module chunks = 12","<template>\n  <div class=\"bind-phone-container\">\n\n    <div class=\"tip-box flx\">\n      <img src=\"@/assets/images/verify_code_tip.png\" alt=\"\">\n      <div class=\"text f-col-between\">\n        <p>激活成功</p>\n        <p>绑定您的手机号</p>\n      </div>\n    </div>\n\n    <div class=\"input-phone-box f-i-c\">\n      <img class=\"icon\" src=\"@/assets/images/bind_phone_input.png\" alt=\"\">\n      <van-field v-model=\"phone\" clearable placeholder=\"输入手机号\" />\n    </div>\n\n    <div class=\"verify-code-box f-row-between-c\">\n      <div class=\"input-code f-i-c\">\n        <img class=\"icon\" src=\"@/assets/images/bind_phone_code.png\" alt=\"\">\n        <van-field v-model=\"verifyCode\" type=\"number\" clearable placeholder=\"输入验证码\" />\n      </div>\n      <div class=\"get-button\">\n        <van-button\n          v-if=\"!isHoldCode\"\n          @click=\"getVerifyCode\"\n          round\n          text=\"获取验证码\"\n          color=\"#F4BA41\"\n        />\n        <div v-else class=\"code-lock f-c\">\n          重新发送（\n          <van-count-down\n            :time=\"resendSeconds\"\n            format=\"ss\"\n            @finish=\"countDownFinish\"\n          />）\n        </div>\n      </div>\n    </div>\n\n    <p class=\"statement\">\n      根据相关法律法规和政策，此服务需要绑定您的手机号\n    </p>\n\n    <van-button\n      class=\"next-step\"\n      color=\"linear-gradient(90deg,rgba(246,197,67,1),rgba(239,140,56,1))\"\n      text=\"下一步\"\n      round\n      @click=\"nextStep()\"\n    />\n\n  </div>\n</template>\n\n<script>\nimport { apiGetVerifyCode, apiCheckCode } from '@/service/api/shortMessage';\nimport { db } from '@/utils/lowdb';\nimport Vue from 'vue';\nimport { Field, Button, CountDown, Toast } from 'vant';\n\nVue.use(Field).use(Button).use(CountDown).use(Toast);\n\nexport default {\n  data() {\n    return {\n      phone: '',\n      verifyCode: '',\n      resendSeconds: 0,\n      sendingInterval: 60 * 1000,\n      isHoldCode: false,\n      phoneRegExp: /^(?:(?:\\+|00)86)?1\\d{10}$/\n    }\n  },\n\n  created() {\n    document.title = '青豆家长';\n  },\n\n  methods: {\n    // todo 验证手机号格式是否正确，发送验证码\n    async getVerifyCode() {\n      if (!this.phoneRegExp.test( this.phone )) {\n        return Toast({\n          message: '手机号错误',\n          icon: 'cross'\n        });\n      }\n      \n      const verifyCodeResponse = await apiGetVerifyCode( this.phone );\n      if (!verifyCodeResponse || verifyCodeResponse.type === 'fail') return Toast(verifyCodeResponse.message || '获取验证码错误，请联系客服');\n      this.resendSeconds = this.sendingInterval;\n      this.isHoldCode = true;\n    },\n\n    countDownFinish() {\n      this.isHoldCode = false;\n    },\n\n    // todo 暂定完成之后跳转回到我的页面\n    async nextStep() {\n      const regCode = /\\d+/;\n      if (!regCode.test( this.verifyCode )) return Toast('验证码需要全数字格式');\n\n      const verifyResponse = await apiCheckCode({ code: this.verifyCode, mobileNo: this.phone });\n      if (!verifyResponse || verifyResponse.type === 'fail') return Toast(verifyResponse.message || '服务器错误，请联系客服');\n      \n      Toast('验证完成');\n      db.unset('userInfo').write();\n      this.$router.back();\n\n      // const checkVerifyCodeResponse = await \n\n      // if (!this.phoneRegExp.test( this.phone )) {\n      //   return Toast({\n      //     message: '手机号错误',\n      //     icon: 'cross'\n      //   });\n      // }\n\n      // if (!this.verifyCode) {\n      //   return Toast({\n      //     message: '验证码错误',\n      //     icon: 'cross'\n      //   });\n      // }\n      \n      // this.$router.push( 'my/my-baby/add' );\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.bind-phone-container {\n  width: 100%;\n  min-height: 100%;\n  padding: 30px 20px 0;\n  background-color: #fff;\n\n  .tip-box {\n    width: 100%;\n    height: 60px;\n\n    img {\n      width: 60px;\n    }\n    .text {\n      width: calc(100% - 60px);\n      padding: 5px 0 5px 15px;\n      box-sizing: border-box;\n\n      p {\n        font-size: 18px;\n        font-weight: 500;\n        color: rgba(34,34,34,1);\n      }\n    }\n  }\n\n  .input-phone-box {\n    width: 100%;\n    height: 44px;\n    border:1px solid rgba(244,186,65,1);\n    border-radius: 22px;\n    margin-top: 30px;\n    padding: 0 15px;\n    box-sizing: border-box;\n\n    .icon {\n      width: 24px;\n    }\n    .van-cell {\n      padding: 0 16px;\n    }\n  }\n\n  .verify-code-box {\n    width: 100%;\n    height: 44px;\n    margin-top: 20px;\n\n    .input-code {\n      width: 180px;\n      height: 44px;\n      border: 1px solid rgba(221,221,221,1);\n      border-radius: 22px;\n      padding: 0 15px;\n      box-sizing: border-box;\n\n      .icon {\n        width: 24px;\n      }\n      .van-cell {\n        padding: 0 16px;\n      }\n    }\n    .get-button {\n      width: calc(100% - 195px);\n      height: 44px;\n\n      .van-button {\n        width: 100%;\n      }\n      .code-lock {\n        font-size: 14px;\n        width: 100%;\n        height: 44px;\n        color: rgb(131, 127, 127);\n        background: #DDDDDD;\n        border-radius: 22px;\n\n        .van-count-down {\n          color: rgb(131, 127, 127);\n        }\n      }\n    }\n  }\n\n  .statement {\n    margin-top: 20px;\n    text-align: center;\n    font-size: 13px;\n    color: rgba(244,186,65,1);\n  }\n\n  .next-step {\n    width: calc(100% - 40px);\n    position: absolute;\n    bottom: 40px;\n  }\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/bindPhone/index.vue","import { request } from '../request';\nimport { getErrorMsg } from '../interfaceRules/errorMsg';\nimport { PAGE_NUM, PAGE_SIZE } from '../constantParams/defaultPage';\n\n/**\n * todo 获取验证码\n * @param { string } mobileNo 手机号\n */\nexport function apiGetVerifyCode(mobileNo) {\n  return request({\n    method: 'GET',\n    url: `/sms/getvercode/${mobileNo}`\n  }).then(result => {\n    if (result.code === '0') {\n      return Promise.resolve({\n        type: 'success',\n        data: result.data\n      })\n    } else {\n      const message = getErrorMsg(result.code);\n      return Promise.resolve({\n        type: 'fail',\n        message: result.message || message\n      })\n    }\n  }).catch(err => {\n    console.log( '接口错误: ', err );\n  })\n}\n\n/**\n * todo 校验短信验证码\n * @param { string } code 短信验证码\t\n * @param { string } mobileNo 手机号码\n */\nexport function apiCheckCode({ code, mobileNo }) {\n  return request({\n    method: 'POST',\n    url: '/sms/checkcode',\n    data: {\n      code,\n      mobileNo\n    }\n  }).then(result => {\n    if (result.code === '0') {\n      return Promise.resolve({\n        type: 'success',\n        data: result.data\n      })\n    } else {\n      const message = getErrorMsg(result.code);\n      return Promise.resolve({\n        type: 'fail',\n        message: result.message || message\n      })\n    }\n  }).catch(err => {\n    console.log( '接口错误: ', err );\n  })\n}\n\n\n// WEBPACK FOOTER //\n// ./src/service/api/shortMessage.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bind-phone-container\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"input-phone-box f-i-c\"},[_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"@/assets/images/bind_phone_input.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"clearable\":\"\",\"placeholder\":\"输入手机号\"},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"verify-code-box f-row-between-c\"},[_c('div',{staticClass:\"input-code f-i-c\"},[_c('img',{staticClass:\"icon\",attrs:{\"src\":require(\"@/assets/images/bind_phone_code.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"type\":\"number\",\"clearable\":\"\",\"placeholder\":\"输入验证码\"},model:{value:(_vm.verifyCode),callback:function ($$v) {_vm.verifyCode=$$v},expression:\"verifyCode\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"get-button\"},[(!_vm.isHoldCode)?_c('van-button',{attrs:{\"round\":\"\",\"text\":\"获取验证码\",\"color\":\"#F4BA41\"},on:{\"click\":_vm.getVerifyCode}}):_c('div',{staticClass:\"code-lock f-c\"},[_vm._v(\"\\n        重新发送（\\n        \"),_c('van-count-down',{attrs:{\"time\":_vm.resendSeconds,\"format\":\"ss\"},on:{\"finish\":_vm.countDownFinish}}),_vm._v(\"）\\n      \")],1)],1)]),_vm._v(\" \"),_c('p',{staticClass:\"statement\"},[_vm._v(\"\\n    根据相关法律法规和政策，此服务需要绑定您的手机号\\n  \")]),_vm._v(\" \"),_c('van-button',{staticClass:\"next-step\",attrs:{\"color\":\"linear-gradient(90deg,rgba(246,197,67,1),rgba(239,140,56,1))\",\"text\":\"下一步\",\"round\":\"\"},on:{\"click\":function($event){return _vm.nextStep()}}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tip-box flx\"},[_c('img',{attrs:{\"src\":require(\"@/assets/images/verify_code_tip.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"text f-col-between\"},[_c('p',[_vm._v(\"激活成功\")]),_vm._v(\" \"),_c('p',[_vm._v(\"绑定您的手机号\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-11ca769e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/bindPhone/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-11ca769e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-11ca769e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-11ca769e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/bindPhone/index.vue\n// module id = null\n// module chunks = ","import '../../style/base.css';\nimport '../index.css';\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vant/es/count-down/style/index.js\n// module id = P/b9\n// module chunks = 1 12","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Njg0NzQyOTEyOUVBMTFFQTgxNDlCMUI3NTJCRTJDNDciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Njg0NzQyOTIyOUVBMTFFQTgxNDlCMUI3NTJCRTJDNDciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozNzBBM0U2RTI5RTgxMUVBODE0OUIxQjc1MkJFMkM0NyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2ODQ3NDI5MDI5RUExMUVBODE0OUIxQjc1MkJFMkM0NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgrIxTIAAAG7SURBVHja7Jo9SwNBEIb3jpBrTEgr1mIj+FEYf4CIQSs7bRW1tFR/gNjbaJE6XSqLA4O1iohKKq0VS9GkSJrz3ewETIpj4u1e/JiB5zawuZl5Z+fu4G69KIoUy8Igi+MOWAOTYETZtQaogwo4UUutNuckjyUgDMZwPAPTKh27AysQ8ZxcgKn8FSX/BPZADc7fraYcBnkcF8ARGAf3oIg4rbjTMgzX25T8Izl8c1JzU5AqhFxgvARTYAscx53mM1yv07jvLPleITrGQV/sRAJmaayp9OycxhkbArJflri/b0vghShZmTOxPuhXYENAnJXBKFG2NDeQ+RaX3XMw51zAJngF+n69YWlusKoxngMR9aWn0jRmXF/9chMBIkAEiAARIAJEgAgQASJABIgAESACRIAIEAHfsgz7n90XTbICw1qBYb1alIv4z7SQjeV30Ib/ooXaVNV8ihdwdxdAw0YL3YJ5ZT5CV1O6Yy3SWLexAhUaD1GZQgrVL3Ri9cZOJOBUmc/+E+AaAVZBzkHiuY5vs61Bx3qg2LH2Uzd76IItczZ7+Mye1o6KYBfcgKaDpJvkW8eY4ySv7VOAAQDHQYkBighjEQAAAABJRU5ErkJggg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/bind_phone_input.png\n// module id = nOC5\n// module chunks = 12","import { padZero } from '../utils/format/string';\nvar SECOND = 1000;\nvar MINUTE = 60 * SECOND;\nvar HOUR = 60 * MINUTE;\nvar DAY = 24 * HOUR;\nexport function parseTimeData(time) {\n  var days = Math.floor(time / DAY);\n  var hours = Math.floor(time % DAY / HOUR);\n  var minutes = Math.floor(time % HOUR / MINUTE);\n  var seconds = Math.floor(time % MINUTE / SECOND);\n  var milliseconds = Math.floor(time % SECOND);\n  return {\n    days: days,\n    hours: hours,\n    minutes: minutes,\n    seconds: seconds,\n    milliseconds: milliseconds\n  };\n}\nexport function parseFormat(format, timeData) {\n  var days = timeData.days;\n  var hours = timeData.hours,\n      minutes = timeData.minutes,\n      seconds = timeData.seconds,\n      milliseconds = timeData.milliseconds;\n\n  if (format.indexOf('DD') === -1) {\n    hours += days * 24;\n  } else {\n    format = format.replace('DD', padZero(days));\n  }\n\n  if (format.indexOf('HH') === -1) {\n    minutes += hours * 60;\n  } else {\n    format = format.replace('HH', padZero(hours));\n  }\n\n  if (format.indexOf('mm') === -1) {\n    seconds += minutes * 60;\n  } else {\n    format = format.replace('mm', padZero(minutes));\n  }\n\n  if (format.indexOf('ss') === -1) {\n    milliseconds += seconds * 1000;\n  } else {\n    format = format.replace('ss', padZero(seconds));\n  }\n\n  if (format.indexOf('S') !== -1) {\n    var ms = padZero(milliseconds, 3);\n\n    if (format.indexOf('SSS') !== -1) {\n      format = format.replace('SSS', ms);\n    } else if (format.indexOf('SS') !== -1) {\n      format = format.replace('SS', ms.slice(0, 2));\n    } else {\n      format = format.replace('S', ms.charAt(0));\n    }\n  }\n\n  return format;\n}\nexport function isSameSecond(time1, time2) {\n  return Math.floor(time1 / 1000) === Math.floor(time2 / 1000);\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vant/es/count-down/utils.js\n// module id = null\n// module chunks = ","import { createNamespace } from '../utils';\nimport { raf, cancelRaf } from '../utils/dom/raf';\nimport { isSameSecond, parseTimeData, parseFormat } from './utils';\n\nvar _createNamespace = createNamespace('count-down'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  props: {\n    millisecond: Boolean,\n    time: {\n      type: [Number, String],\n      default: 0\n    },\n    format: {\n      type: String,\n      default: 'HH:mm:ss'\n    },\n    autoStart: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      remain: 0\n    };\n  },\n  computed: {\n    timeData: function timeData() {\n      return parseTimeData(this.remain);\n    },\n    formattedTime: function formattedTime() {\n      return parseFormat(this.format, this.timeData);\n    }\n  },\n  watch: {\n    time: {\n      immediate: true,\n      handler: 'reset'\n    }\n  },\n  activated: function activated() {\n    if (this.keepAlivePaused) {\n      this.counting = true;\n      this.keepAlivePaused = false;\n      this.tick();\n    }\n  },\n  deactivated: function deactivated() {\n    if (this.counting) {\n      this.pause();\n      this.keepAlivePaused = true;\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.pause();\n  },\n  methods: {\n    // @exposed-api\n    start: function start() {\n      if (this.counting) {\n        return;\n      }\n\n      this.counting = true;\n      this.endTime = Date.now() + this.remain;\n      this.tick();\n    },\n    // @exposed-api\n    pause: function pause() {\n      this.counting = false;\n      cancelRaf(this.rafId);\n    },\n    // @exposed-api\n    reset: function reset() {\n      this.pause();\n      this.remain = +this.time;\n\n      if (this.autoStart) {\n        this.start();\n      }\n    },\n    tick: function tick() {\n      if (this.millisecond) {\n        this.microTick();\n      } else {\n        this.macroTick();\n      }\n    },\n    microTick: function microTick() {\n      var _this = this;\n\n      this.rafId = raf(function () {\n        /* istanbul ignore if */\n        // in case of call reset immediately after finish\n        if (!_this.counting) {\n          return;\n        }\n\n        _this.setRemain(_this.getRemain());\n\n        if (_this.remain > 0) {\n          _this.microTick();\n        }\n      });\n    },\n    macroTick: function macroTick() {\n      var _this2 = this;\n\n      this.rafId = raf(function () {\n        /* istanbul ignore if */\n        // in case of call reset immediately after finish\n        if (!_this2.counting) {\n          return;\n        }\n\n        var remain = _this2.getRemain();\n\n        if (!isSameSecond(remain, _this2.remain) || remain === 0) {\n          _this2.setRemain(remain);\n        }\n\n        if (_this2.remain > 0) {\n          _this2.macroTick();\n        }\n      });\n    },\n    getRemain: function getRemain() {\n      return Math.max(this.endTime - Date.now(), 0);\n    },\n    setRemain: function setRemain(remain) {\n      this.remain = remain;\n      this.$emit('change', this.timeData);\n\n      if (remain === 0) {\n        this.pause();\n        this.$emit('finish');\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": bem()\n    }, [this.slots('default', this.timeData) || this.formattedTime]);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vant/es/count-down/index.js\n// module id = null\n// module chunks = "],"sourceRoot":""}