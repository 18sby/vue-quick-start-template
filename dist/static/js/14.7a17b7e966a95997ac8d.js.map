{"version":3,"sources":["webpack:///src/components/album/AlbumCommentTitle.vue","webpack:///./src/components/album/AlbumCommentTitle.vue?b42c","webpack:///./src/components/album/AlbumCommentTitle.vue","webpack:///./src/assets/images/album_listen.png","webpack:///src/pages/directBuy/index.vue","webpack:///./src/pages/directBuy/index.vue?3aca","webpack:///./src/pages/directBuy/index.vue"],"names":["AlbumCommentTitle","props","rowTitle","type","String","default","albumInfo","Object","album_AlbumCommentTitle","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","isEndUpdate","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","module","exports","vue_esm","use","es_button","toast","directBuy","components","AlbumHeader","data","manuscript","hasOwner","buyText","[object Object]","document","title","$route","params","hasOwnProperty","getAlbumInfo","albumid","methods","albumIsNeedBuy","chargeType","isBuy","utils","albumId","albumResponse","program","money","spuInfo","price","console","log","$router","push","path","query","openNewOrder","spus","spuId","skuId","quantity","spuName","name","newOrderResponse","payment","launchWechatPay","orderNo","orderNumber","prePayResponse","wechatConfig","jsApiList","timestamp","timeStamp","success","weixin_js_sdk_default","a","config","error","ready","chooseWXPay","pages_directBuy","attrs","on","clickSeeWonderComment","$event","domProps","innerHTML","desc","click","listenAlbum","src","alt","text","round","color","buyAlbum"],"mappings":"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","file":"static/js/14.7a17b7e966a95997ac8d.js","sourcesContent":["<template>\n  <div class=\"base-show-all-row-container f-row-between\">\n\n    <div class=\"title f-i-c\">\n      <div class=\"shading\" />\n      <p class=\"row-title\">{{ rowTitle }}</p>\n      <p v-if=\"albumInfo\" class=\"update-status\">\n        {{ albumInfo.isEndUpdate ? `${albumInfo.totalItemCount}节全` : `更新至${albumInfo.itemCount}节` }}\n      </p>\n    </div>\n    \n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    rowTitle: {\n      type: String,\n      default: '无标题'\n    },\n    albumInfo: {\n      type: Object,\n      default: null\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.base-show-all-row-container {\n  width: 100%;\n  height: 25px;\n\n  .title {\n    width: 80%;\n    font-size: 18px;\n    font-weight: bold;\n    color: rgba(51,51,51,1);\n    position: relative;\n\n    .shading {\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      width: 45px;\n      height: 8px;\n      background: linear-gradient(90deg,rgba(244,186,65,1) 0%,rgba(255,255,255,1) 100%);\n    }\n    .row-title {\n      position: relative;\n    }\n    .update-status {\n      margin-left: 15px;\n      font-size: 13px;\n      color: rgba(170,170,170,1);\n      font-weight: 400;\n    }\n  }\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/album/AlbumCommentTitle.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"base-show-all-row-container f-row-between\"},[_c('div',{staticClass:\"title f-i-c\"},[_c('div',{staticClass:\"shading\"}),_vm._v(\" \"),_c('p',{staticClass:\"row-title\"},[_vm._v(_vm._s(_vm.rowTitle))]),_vm._v(\" \"),(_vm.albumInfo)?_c('p',{staticClass:\"update-status\"},[_vm._v(\"\\n      \"+_vm._s(_vm.albumInfo.isEndUpdate ? ((_vm.albumInfo.totalItemCount) + \"节全\") : (\"更新至\" + (_vm.albumInfo.itemCount) + \"节\"))+\"\\n    \")]):_vm._e()])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2d342c02\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/album/AlbumCommentTitle.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2d342c02\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AlbumCommentTitle.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AlbumCommentTitle.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AlbumCommentTitle.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2d342c02\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AlbumCommentTitle.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2d342c02\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/album/AlbumCommentTitle.vue\n// module id = null\n// module chunks = ","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzIwQUVBRjIyQTBGMTFFQTgxNDlCMUI3NTJCRTJDNDciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzIwQUVBRjMyQTBGMTFFQTgxNDlCMUI3NTJCRTJDNDciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDMjBBRUFGMDJBMEYxMUVBODE0OUIxQjc1MkJFMkM0NyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDMjBBRUFGMTJBMEYxMUVBODE0OUIxQjc1MkJFMkM0NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhMLfycAAAL+SURBVHja7JjdSxVBGMb3bCc9FhSG2EUZfUBlVmQGQWBplGYUZBBEZdcRJORdUd2ERnoTEf0DFdaF0Rd6KiKqiyDyoi9DKYojileRRWkn05738CxMy9qZPbO7QvTCj9mdnZn32Xc+d2OWT5voyluJZAfYAFaDuSDBxyNgCLwET8GdWF36jZ/2Y5oi4kj2g0aw1uc7dIPz4DLEjRsLgphqJBfBco/HY6AffOH9LFAC4h5le8AhiHqSkyBG5Sxo8mj4ErgHXsHBT1e96ezKWnAAlKqPQRs4jnq/tAWh0RlIboItrtCfQENJn2NuG5JmV1ffBbvR1vesgtBAAZJOUMUsicAxcG6yt9IQNY2RblG68yHYjjZHJxWEinJ/Dexh1jDYma3ffQjbiOQ2x5rYVbAP7U84ZWxXnSMuMZVBicm8fV36MZJNyiTYCw57RgjqF3PA5gOZnjVo4IEVgsHXViRJBkTWrjL4+uCOUBvFiLWEJYaRus8ZLCZjtvWPCEGxTNMXzHsPVqBS2grR4FNe/i1YxKxV8PnaidBRpezJsMUwSj9kGVGyMhpinOZDHPkpsASFx6wIjIuvjJ35HOjFEqHNyjRsj0oMoyS+rijbTrWtLIBiN6zo7ZZyXSWCypWjw/MpECQ+ndW6QgQt401vlN2ldJtMoD7eLhVBRbzpt6bOUkyL48pp7zNHfoJ5w+oeE/DskvVvtnQVN1dnK0nItHecPgNyHKgEsjt/A9fBKVT6GJCQhUhOg3owE8jp4RGv1zvrULYofOK+1m0oZh0PdYV/K2drtDVHIsUFNFcxBYx2YbaytmabC3gczdUO8qxtBSVIrMZAUK1uQT+CSgwEzQtDUMJAUH4YgiKx/4L+aUEjBn5GdddQETSoWdhkP0tplhsQQV2ahZMGgnR9dIqgMxrdIQeodgNBcm5+pzEkWm3s4vId1sCfCl4mXVpv8mnEurv4deNl4rtBtNis0MHfJR38ps/0J/98leN5TwBHVfm1twZcUMbtV/qsoAbrtwADAEsy7JoEFhCsAAAAAElFTkSuQmCC\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/album_listen.png\n// module id = weCG\n// module chunks = 11 14","<template>\n  <div v-if=\"albumInfo\" class=\"album-introduction-container\">\n    \n    <AlbumHeader\n      class=\"album-header-box\"\n      :albumInfo=\"albumInfo\"\n    />\n\n    <div class=\"split-div-1\" />\n    \n    <div class=\"manuscript\">\n      <AlbumCommentTitle @clickSeeWonderComment=\"$router.push( '/detail-message' )\" rowTitle=\"介绍\" />\n      <div\n        v-html=\"albumInfo.desc\"\n        class=\"rich-text\"\n      />\n    </div>\n\n    <div\n      class=\"button-hear-box\"\n    >\n      <van-button\n        v-if=\"!albumIsNeedBuy(albumInfo.chargeType, albumInfo.isBuy)\"\n        class=\"button-hear\"\n        type=\"default\"\n        text=\"前往收听\"\n        round\n        color=\"linear-gradient(90deg,rgba(246,197,67,1),rgba(239,140,56,1))\"\n        @click=\"listenAlbum\"\n      />\n      <div\n        v-else\n        class=\"not-buy-box f-row-between\"\n      >\n        <div @click=\"listenAlbum\" class=\"not-buy f-row-between-c\">\n          <img src=\"@/assets/images/album_listen.png\" alt=\"\">\n          <span>免费试听</span>\n        </div>\n        <van-button\n          class=\"button-join\"\n          type=\"default\"\n          :text=\"buyText\"\n          round\n          color=\"linear-gradient(90deg,rgba(246,197,67,1),rgba(239,140,56,1))\"\n          @click=\"buyAlbum\"\n        />\n      </div>\n    </div>\n\n    <div class=\"bottom-div-1\" />\n\n  </div>\n</template>\n\n<script>\nimport AlbumHeader from '@/components/album/AlbumHeader.vue';\nimport AlbumCommentTitle from '@/components/album/AlbumCommentTitle.vue';\nimport { apiAlbumInfo } from '@/service/api/program';\nimport { toDecimal2 } from '../../utils/money';\nimport { albumIsNeedBuy } from '../../utils/index';\nimport { apiOrderConfig, apiOrderPrePay, apiOrderSubmit } from '@/service/api/payment';\nimport Vue from 'vue';\nimport { Button, Toast } from 'vant';\nimport wx from 'weixin-js-sdk';\n\nVue.use(Button).use(Toast);\n\nexport default {\n  components: {\n    AlbumHeader,\n    AlbumCommentTitle,\n  },\n\n  data() {\n    return {\n      manuscript: '<p style=\"color: #333; line-height: 2\">在孩子的负面情绪面前，父母不时会陷入崩溃，不知道到底该如何管教孩子。一方面怕管教太严，孩子会逆反；另一方面又怕不管教，孩子难以形成好的习惯和性格。这就导致我们有情绪也不敢表达，总是压抑自己。国际著名亲子沟通专家阿黛尔·法伯和伊莱恩·玛兹丽施告诉我们，面对孩子的负面情绪，父母需要的是方法，而不是情绪。通过大量、长期的家庭教育实践，作者总结出一系列清晰有效的方法，帮助我们正确识别、处理孩子的负面情绪，让孩子学会与他的负面情绪共处；同时帮助父母解放自己的育儿焦虑和负面情绪，从而拥有一个轻松愉快的家庭氛围。这本书的作者是国际著名亲子沟通专家阿黛尔·法伯和伊莱恩·玛兹丽施。她们因为对美国家庭教育做出巨大贡献，入选了“美国名人录”。两位作者在1980年所著的《如何说孩子才会听，怎么听孩子才肯说》一书，被誉为“父母与孩子沟通的圣经”，被翻译为30多种语言，位居美国亲子教育书籍排行榜榜首长达二十多年。这本《解放父母，解放孩子》是两位作者出版的第一本书，自1974年出版至今已经畅销40多年。很少有家教书能拥有这么强的生命力，一个重要的原因在于，这本书提供的方法仍不过时。</p>',\n      hasOwner: true,\n      albumInfo: null,\n\n      buyText: '',\n    }\n  },\n\n  created() {\n    document.title = '青豆父母学堂';\n  },\n\n  mounted() {\n    if (this.$route.params.hasOwnProperty( 'albumid' )) {\n      this.getAlbumInfo( this.$route.params.albumid );\n    } else {\n      Toast('链接有误，请联系客服');\n    }\n  },\n\n  methods: {\n    // todo 判断用户是否需要购买当前专辑\n    albumIsNeedBuy(chargeType, isBuy) {\n      return albumIsNeedBuy(chargeType, isBuy);\n    },\n    \n    async getAlbumInfo(albumId) {\n      const albumResponse = await apiAlbumInfo(albumId);\n      if (!albumResponse || albumResponse.type === 'fail') return Toast( '服务器错误，请联系客服' );\n      this.albumInfo = albumResponse.data;\n      this.buyText = '￥' + toDecimal2(this.albumInfo.spuInfo.price) + ' 购买';\n    },\n\n    listenAlbum() {\n      console.log( 'this.$route.params.albumId', this.$route.params.albumId );\n      this.$router.push({\n        path: '/album-catalogue',\n        query: {\n          albumId: this.$route.params.albumid\n        }\n      });\n    },\n\n    buyAlbum() {\n      this.openNewOrder();\n    },\n    async openNewOrder() {\n      let spus = [{\n        spuId: this.albumInfo.spuInfo.spuId,\n        skuId: '',\n        quantity: '1',\n        spuName: this.albumInfo.name\n      }];\n\n      const newOrderResponse = await apiOrderSubmit({ spus });\n      if (!newOrderResponse || newOrderResponse.type === 'fail') return Toast( '服务器错误，请联系客服' );\n\n      this.launchWechatPay(newOrderResponse.data.orderNo);\n    },\n    async launchWechatPay(orderNumber) {\n      const prePayResponse = await apiOrderPrePay( orderNumber );\n      if (!prePayResponse || prePayResponse.type === 'fail') return Toast( '服务器错误，请联系客服' );\n\n      let wechatConfig = prePayResponse.data;\n      wechatConfig.jsApiList = ['chooseWXPay'];\n      wechatConfig.timestamp = wechatConfig.timeStamp;\n      wechatConfig.success = function() {\n        console.log( '支付成功11111' );\n      }\n      try {\n        wx.config(wechatConfig);\n      } catch (error) {\n        console.log('支付配置 error: ', error);\n      }\n\n      wx.ready(function () {\n        wx.chooseWXPay(wechatConfig);\n      });\n    },\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.album-introduction-container {\n  width: 100%;\n  background: rgba(246,246,246,1);\n\n  .album-header-box {\n    width: 100%;\n    height: 160px;\n    box-sizing: border-box;\n    padding: 20px 16px;\n    background-color: #fff;\n  }\n\n  .split-div-1 {\n    width: 100%;\n    height: 10px;\n  }\n\n  .manuscript {\n    width: 100%;\n    box-sizing: border-box;\n    padding: 20px 16px;\n    background-color: #fff;\n\n    .rich-text {\n      margin-top: 25px;\n    }\n  }\n\n  .button-hear-box {\n    position: fixed;\n    bottom: 0;\n    width: 100%;\n    padding: 10px 20px 10px;\n    background: #fff;\n    z-index: 1;\n\n    .button-hear {\n      width: 100%;\n      font-size: 16px;\n    }\n    .not-buy-box {\n      \n      .not-buy {\n        width: 88px;\n        margin-left: 15px;\n        \n        img {\n          width: 18px;\n          height: 18px;\n        }\n        span {\n          font-size: 15px;\n          font-weight: bold;\n          color: rgba(244,186,65,1);\n        }\n      }\n      .button-join {\n        width: 157.5px;\n      }\n    }\n  }\n\n  .bottom-div-1 {\n    width: 100%;\n    height: 65px;\n    background-color: #fff;\n  }\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/directBuy/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.albumInfo)?_c('div',{staticClass:\"album-introduction-container\"},[_c('AlbumHeader',{staticClass:\"album-header-box\",attrs:{\"albumInfo\":_vm.albumInfo}}),_vm._v(\" \"),_c('div',{staticClass:\"split-div-1\"}),_vm._v(\" \"),_c('div',{staticClass:\"manuscript\"},[_c('AlbumCommentTitle',{attrs:{\"rowTitle\":\"介绍\"},on:{\"clickSeeWonderComment\":function($event){return _vm.$router.push( '/detail-message' )}}}),_vm._v(\" \"),_c('div',{staticClass:\"rich-text\",domProps:{\"innerHTML\":_vm._s(_vm.albumInfo.desc)}})],1),_vm._v(\" \"),_c('div',{staticClass:\"button-hear-box\"},[(!_vm.albumIsNeedBuy(_vm.albumInfo.chargeType, _vm.albumInfo.isBuy))?_c('van-button',{staticClass:\"button-hear\",attrs:{\"type\":\"default\",\"text\":\"前往收听\",\"round\":\"\",\"color\":\"linear-gradient(90deg,rgba(246,197,67,1),rgba(239,140,56,1))\"},on:{\"click\":_vm.listenAlbum}}):_c('div',{staticClass:\"not-buy-box f-row-between\"},[_c('div',{staticClass:\"not-buy f-row-between-c\",on:{\"click\":_vm.listenAlbum}},[_c('img',{attrs:{\"src\":require(\"@/assets/images/album_listen.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"免费试听\")])]),_vm._v(\" \"),_c('van-button',{staticClass:\"button-join\",attrs:{\"type\":\"default\",\"text\":_vm.buyText,\"round\":\"\",\"color\":\"linear-gradient(90deg,rgba(246,197,67,1),rgba(239,140,56,1))\"},on:{\"click\":_vm.buyAlbum}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"bottom-div-1\"})],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-210162f0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/directBuy/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-210162f0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-210162f0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-210162f0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/directBuy/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}